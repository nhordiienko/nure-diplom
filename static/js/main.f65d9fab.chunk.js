(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{204:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),i=n(8),o=n.n(i),s=n(10),u=n(7),l=n(300),d=n(333),j=n(361),b=n(338),p=n(18),h=n.n(p),f=n(16),O=n(13),m=n(328),v=n(1),g=function(e){var t=e.children,n=e.id,a=e.height,r=e.width,c=e.justify,i=Object(f.usePromiseTracker)({area:n}).promiseInProgress;return Object(v.jsx)("div",{style:{display:"flex",justifyContent:null!==c&&void 0!==c?c:"center",alignItems:"center",height:null!==a&&void 0!==a?a:30,width:r},children:i?Object(v.jsx)(m.a,{}):t})},x=n(334),y=n(332),w=n(363),C=Object(y.a)((function(e){return Object(w.a)({title:{margin:e.spacing(2)}})})),S=function(e){var t=e.title,n=C();return Object(v.jsxs)("div",{children:[Object(v.jsx)(d.a,{variant:"h2",component:"h1",className:n.title,children:t}),Object(v.jsx)(x.a,{})]})},D=n(33),k=n(25),E=n(19),T="@ADMIN/LOGIN",N="@ADMIN/LOGOUT",A="@ADMIN/USERS",U="@ADMIN/DELETE",P="@ADMIN/ADD",M={users:[]},I=T,F=N,L=A,H=U,R=P,B="@INCOME/ADD",z="@INCOME/UPDATE",V="@INCOME/DELETE",G="@INCOME/SET",W={incomes:[]},Y=B,K=z,X=V,_=G,q="@OUTCOME/ADD",J="@OUTCOME/UPDATE",Q="@OUTCOME/DELETE",Z="@OUTCOME/SET",$={outcomes:[]},ee=q,te=J,ne=Q,ae=Z,re="@SETTING/GET",ce={settings:[]},ie=re,oe="@USER/LOGIN",se="@USER/LOGOUT",ue={},le=oe,de=se,je="@VIDGET/ADD",be="@VIDGET/DELETE",pe={vidgets:[]},he=je,fe=be,Oe=Object(D.combineReducers)({income:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{incomes:[].concat(Object(k.a)(e.incomes),[t.payload])};case K:return{incomes:e.incomes.map((function(e){return e.id===t.payload.id?t.payload:e}))};case X:return{incomes:e.incomes.filter((function(e){return e.id!==t.payload}))};case _:return{incomes:Object(k.a)(t.payload)};default:return null!==e&&void 0!==e?e:W}},outcome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{outcomes:[].concat(Object(k.a)(e.outcomes),[t.payload])};case te:return{outcomes:e.outcomes.map((function(e){return e.id===t.payload.id?t.payload:e}))};case ne:return{outcomes:e.outcomes.filter((function(e){return e.id!==t.payload}))};case ae:return{outcomes:Object(k.a)(t.payload)};default:return null!==e&&void 0!==e?e:$}},vidget:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{vidgets:[].concat(Object(k.a)(e.vidgets),[t.payload])};case fe:return{vidgets:e.vidgets.filter((function(e){return e.id!==t.payload}))};default:return null!==e&&void 0!==e?e:pe}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{user:t.payload};case de:return ue;default:return null!==e&&void 0!==e?e:ue}},setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{settings:Object(k.a)(t.payload)};default:return null!==e&&void 0!==e?e:ce}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(E.a)(Object(E.a)({},e),{},{admin:t.payload});case L:return Object(E.a)(Object(E.a)({},e),{},{users:t.payload});case H:return Object(E.a)(Object(E.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.payload}))});case R:return Object(E.a)(Object(E.a)({},e),{},{users:[].concat(Object(k.a)(e.users),[t.payload])});case F:return M;default:return null!==e&&void 0!==e?e:M}}}),me=n(66),ve=n(141),ge=n(106),xe=n(142),ye=n(143),we=n.n(ye),Ce=n(144),Se={key:"fe",storage:we.a},De=Object(ge.a)(Se,Oe),ke=[Ce.a],Ee=Object(ve.composeWithDevTools)(D.applyMiddleware.apply(void 0,ke)),Te=Object(D.createStore)(De,Ee),Ne=Object(ge.b)(Te),Ae=function(e){return Object(v.jsx)(me.a,{store:Te,children:Object(v.jsx)(xe.a,{loading:null,persistor:Ne,children:e.children})})};function Ue(e,t){return{type:e,payload:t}}var Pe=me.c,Me=function(e){var t=Object(me.b)();return function(){t(e.apply(void 0,arguments))}},Ie=T,Fe=N,Le=A,He=U,Re=P,Be=function(e){return Ue(Ie,e)},ze=function(){return Ue(Fe)},Ve=function(e){return Ue(Le,e)},Ge=function(e){return Ue(He,e)},We=function(e){return Ue(Re,e)},Ye=oe,Ke=se,Xe=function(e){return Ue(Ye,e)},_e=function(){return Ue(Ke)},qe=n(145);Object(qe.config)();var Je,Qe="https://free.currconv.com/api/v7/convert?compact=ultra&apiKey=ef030e1a06dd19285177&q=",Ze="https://nure-diplom.herokuapp.com",$e=n(359),et=B,tt=z,nt=V,at=G,rt={add:function(e){return Ue(et,e)},update:function(e){return Ue(tt,e)},delete:function(e){return Ue(nt,e)},set:function(e){return Ue(at,e)}},ct=q,it=J,ot=Q,st=Z,ut={add:function(e){return Ue(ct,e)},update:function(e){return Ue(it,e)},delete:function(e){return Ue(ot,e)},set:function(e){return Ue(st,e)}},lt=re,dt=function(e){return Ue(lt,e)},jt=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){h()({method:"GET",url:"".concat(Ze,"/admin"),headers:{Authorization:t}}).then((function(t){t.data.data?e(!0):e(!1)})).catch((function(){return e(!1)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"GET",url:"".concat(Ze,"/admin"),headers:{Authorization:t}});case 2:return e.abrupt("return",e.sent.data.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"DELETE",url:"".concat(Ze,"/admin/").concat(n),headers:{Authorization:t}});case 2:return e.abrupt("return",e.sent.data.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"GET",url:"".concat(Ze,"/record"),headers:{Authorization:t}});case 2:return n=e.sent.data.data,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"POST",url:"".concat(Ze,"/record"),headers:{Authorization:t},data:n});case 2:if(a=e.sent.data,r=a.message,c=a.data,!r){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"PUT",url:"".concat(Ze,"/record"),headers:{Authorization:t},data:n});case 2:if(!(a=e.sent.data.message)){e.next=5;break}return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"DELETE",url:"".concat(Ze,"/record/").concat(n),headers:{Authorization:t}});case 2:if(!(a=e.sent.data.message)){e.next=5;break}return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e[e.USD=0]="USD",e[e.UAH=1]="UAH",e[e.EUR=2]="EUR"}(Je||(Je={}));var vt,gt=[{label:"USD",value:Je.USD},{label:"UAH",value:Je.UAH},{label:"EUR",value:Je.EUR}];!function(e){e[e.UK=0]="UK",e[e.EN=1]="EN"}(vt||(vt={}));vt.UK,vt.EN;var xt,yt="dialog-record",wt="dialog-prompt",Ct="dialog-user",St="price",Dt="login",kt="update",Et="user",Tt="admin",Nt=function(){return Object($e.a)()},At=function(e){switch(e){case Je.USD:return"USD";case Je.UAH:return"UAH";case Je.EUR:return"EUR"}},Ut=function(e){switch(e){case vt.UK:return 0;case vt.EN:return 1}},Pt=function(e){switch(e){case"UAH":return Je.UAH;case"EUR":return Je.EUR;default:return Je.USD}},Mt=function(){var e=Pe((function(e){return e.user})).user,t=Me(Xe),n=Me(_e),r=Me(dt),c=Me(rt.set),i=Me(ut.set),u=Object(a.useCallback)(Object(s.a)(o.a.mark((function a(){var s,u,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=24;break}return a.next=3,It(e.jwt);case 3:if(!a.sent){a.next=23;break}return a.t0=t,a.next=7,Ft(e.jwt);case 7:return a.t1=a.sent,(0,a.t0)(a.t1),a.t2=r,a.next=12,Ht(e.jwt);case 12:return a.t3=a.sent,(0,a.t2)(a.t3),a.next=16,ht(e.jwt);case 16:s=a.sent,u=s.filter((function(e){return e.isIncome})).map((function(e){return Object(E.a)(Object(E.a)({},e),{},{currency:Pt(e.currency)})})),c(u),l=s.filter((function(e){return!e.isIncome})).map((function(e){return Object(E.a)(Object(E.a)({},e),{},{currency:Pt(e.currency)})})),i(l),a.next=24;break;case 23:n();case 24:case"end":return a.stop()}}),a)}))),[]);Object(a.useEffect)((function(){Object(f.trackPromise)(u(),Et)}),[])},It=function(e){return new Promise((function(t){h()({method:"GET",url:"".concat(Ze,"/user/profile"),headers:{Authorization:e}}).then((function(e){e.data.data?t(!0):t(!1)})).catch((function(){return t(!1)}))}))},Ft=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"GET",url:"".concat(Ze,"/user/profile"),headers:{Authorization:t}});case 2:return r=e.sent.data.data,e.next=5,h()({method:"GET",url:"".concat(Ze,"/settings/last"),headers:{Authorization:t}});case 5:return c=e.sent.data,e.abrupt("return",{jwt:t,currency:r.currency,email:r.email,language:r.language,location:r.location,name:r.name,employee:null!==(n=null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.employee)&&void 0!==n?n:0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"PUT",url:"".concat(Ze,"/user/profile"),headers:{Authorization:t.jwt},data:t});case 3:return a=e.sent.data,r=a.data,c=a.message,i=a.ok,e.next=9,h()({method:"POST",url:"".concat(Ze,"/settings"),headers:{Authorization:t.jwt},data:{employee:t.employee,timestamp:(new Date).getTime()}});case 9:if(s=e.sent.data,i&&s.ok&&r){e.next=12;break}throw new Error(c||"");case 12:n({jwt:t.jwt,employee:t.employee,currency:r.currency,email:r.email,language:r.language,location:r.location,name:r.name}),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"GET",url:"".concat(Ze,"/settings"),headers:{Authorization:t}});case 2:return n=e.sent.data.data,e.abrupt("return",n.map((function(e){return{employee:e.employee,timestamp:e.timestamp,id:Nt()}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt="/",Bt="/income",zt="/outcome",Vt="/profile",Gt="/admin",Wt=Object(y.a)((function(e){return Object(w.a)({screen:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{padding:e.spacing(2)},input:{minWidth:400,display:"block",marginBottom:e.spacing(1)},button:{display:"block",margin:"auto",marginTop:e.spacing(2)}})})),Yt=function(e){var t=e.children,n=Wt(),r=Object(a.useState)(""),c=Object(u.a)(r,2),i=c[0],p=c[1],m=Object(a.useState)(""),x=Object(u.a)(m,2),y=x[0],w=x[1],C=Object(a.useState)(""),D=Object(u.a)(C,2),k=D[0],E=D[1],T=Pe((function(e){return e})),N=T.user,A=T.admin,U=Me(Xe),P=Me(Be),M=Object(O.h)().pathname,I=function(){E("")},F=function(e){return function(t){var n=t.target.value;switch(e){case"email":return p(n);case"password":return w(n)}}};return N.user||A.admin?Object(v.jsx)(v.Fragment,{children:t}):Object(v.jsx)("div",{className:n.screen,children:Object(v.jsx)(l.a,{className:n.content,elevation:5,children:Object(v.jsx)(g,{id:Dt,width:400,height:261,children:Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{title:"Login"}),Object(v.jsx)(d.a,{color:"error",variant:"body1",component:"p",children:k}),Object(v.jsx)(j.a,{className:n.input,fullWidth:!0,id:"email",label:"Email",onFocus:I,value:i,onChange:F("email")}),Object(v.jsx)(j.a,{className:n.input,fullWidth:!0,id:"password",type:"password",label:"Password",onFocus:I,value:y,onChange:F("password")}),Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:M===Gt?function(){Object(f.trackPromise)(h()({method:"POST",url:"".concat(Ze,"/auth/admin"),data:{email:i,password:y}}).then(function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.jwt,P({jwt:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return E(e.response.data.message)})),Dt)}:function(){Object(f.trackPromise)(h()({method:"POST",url:"".concat(Ze,"/auth/signin"),data:{email:i,password:y}}).then(function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.jwt,e.t0=U,e.next=4,Ft(n);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){E(e.response.data.message)})),Dt)},className:n.button,onFocus:I,children:"Login"})]})})})})},Kt=(n(204),n(339)),Xt=n(340),_t=n(341),qt=n(342),Jt=n(45),Qt=Object(y.a)((function(e){return Object(w.a)({drawer:{padding:e.spacing(3,1,1),marginRight:e.spacing(1),borderRight:"1px solid #0d47a133"},link:{color:"#0d47a1",padding:e.spacing(1),display:"flex",justifyContent:"center",alignItems:"center"}})})),Zt=function(){var e=Qt();return Object(v.jsxs)("nav",{className:e.drawer,children:[Object(v.jsx)(Jt.b,{className:e.link,to:Rt,children:Object(v.jsx)(Kt.a,{fontSize:"large"})}),Object(v.jsx)(x.a,{}),Object(v.jsx)(Jt.b,{className:e.link,to:Bt,children:Object(v.jsx)(Xt.a,{fontSize:"large"})}),Object(v.jsx)(x.a,{}),Object(v.jsx)(Jt.b,{className:e.link,to:zt,children:Object(v.jsx)(_t.a,{fontSize:"large"})}),Object(v.jsx)(x.a,{}),Object(v.jsx)(Jt.b,{className:e.link,to:Vt,children:Object(v.jsx)(qt.a,{fontSize:"large"})})]})},$t=n(348),en=n(349),tn=n(350),nn=n(351),an=n(352),rn=n(367),cn=n(353),on=n(149),sn=n(366),un=n(354),ln=n(358),dn=Object(y.a)((function(e){return Object(w.a)({modal:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},textInput:{marginBottom:e.spacing(2),width:"100%"},button:{width:"100%"},prompt:{padding:e.spacing(2)},record:{width:500}})})),jn=function(e){var t=e.isOpen,n=e.handleClose,a=e.children,r=dn();return Object(v.jsx)(ln.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(v.jsx)("div",{className:r.modal,children:a})})},bn=n(343),pn=n(344),hn=n(356),fn=n(337),On=n(357),mn=Object(y.a)((function(e){return Object(w.a)({selectContainer:{margin:e.spacing(1),minWidth:100},select:{marginTop:e.spacing(1)}})})),vn=function(e){var t=e.list,n=e.value,a=e.setValue,r=mn();return Object(v.jsx)(fn.a,{className:r.selectContainer,children:Object(v.jsx)(On.a,{value:n,onChange:function(e){a(e.target.value)},displayEmpty:!0,className:r.select,children:t.map((function(e){return Object(v.jsx)(sn.a,{value:e.value,children:e.label},e.label)}))})})},gn=function(e){var t=e.isOpen,n=e.title,a=e.setTitle,r=e.description,c=e.setDescription,i=e.value,o=e.setValue,s=e.handleClose,u=e.currency,l=e.setCurrency,p=e.handleSave,h=e.date,f=e.handleDateChange,O=e.handleFocus,m=e.error,x=dn(),y=function(e){return{handleChangeValue:function(t){var n=t.target.value;return""===n?e(n):parseFloat(n)<0?e("0.00"):void e(n)},getHandleChangeText:function(e,t){return function(n){var a=n.target.value;t&&a.length>t||e(a)}}}}(o),w=y.getHandleChangeText,C=y.handleChangeValue;return Object(v.jsx)(jn,{isOpen:t,handleClose:s,children:Object(v.jsx)(bn.a,{className:x.record,children:Object(v.jsxs)(pn.a,{children:[Object(v.jsx)(d.a,{gutterBottom:!0,variant:"h4",component:"h2",children:n||"New record"}),Object(v.jsx)(d.a,{className:x.textInput,color:"error",variant:"body1",component:"p",children:m}),Object(v.jsx)(j.a,{label:"Title",className:x.textInput,value:n,onChange:w(a,24),onFocus:O}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(v.jsx)(j.a,{type:"number",label:"Value",className:x.textInput,value:i,onChange:C,onFocus:O}),Object(v.jsx)(vn,{list:gt,value:u,setValue:l})]}),Object(v.jsx)(hn.a,{fullWidth:!0,margin:"normal",id:"date-picker-dialog",label:"Date",format:"MM/dd/yyyy",maxDate:new Date,value:h,onChange:f,onFocus:O}),Object(v.jsx)(j.a,{className:x.textInput,label:"Description",value:r,onChange:w(c),multiline:!0,rows:4,onFocus:O}),Object(v.jsx)(g,{id:yt,children:Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:p,className:x.button,children:"Save"})})]})})})},xn=n(347),yn=function(e){var t=e.title,n=e.description,a=e.handleClose,r=e.handleSubmit,c=e.isOpen,i=dn();return Object(v.jsx)(jn,{isOpen:c,handleClose:a,children:Object(v.jsx)(l.a,{children:Object(v.jsx)(g,{id:wt,height:145,width:242,children:Object(v.jsxs)(l.a,{className:i.prompt,children:[Object(v.jsx)(d.a,{gutterBottom:!0,variant:"h4",component:"h2",children:t}),Object(v.jsx)(d.a,{gutterBottom:!0,variant:"body2",component:"p",children:n}),Object(v.jsxs)(xn.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(xn.a,{item:!0,children:Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:r,children:"Yes"})}),Object(v.jsx)(xn.a,{item:!0,children:Object(v.jsx)(b.a,{variant:"contained",color:"secondary",onClick:a,children:"No"})})]})]})})})})},wn=function(e){var t=e.isOpen,n=e.handleClose,r=dn(),c=Object(a.useState)(""),i=Object(u.a)(c,2),l=i[0],p=i[1],O=Object(a.useState)(""),m=Object(u.a)(O,2),x=m[0],y=m[1],w=Object(a.useState)(""),C=Object(u.a)(w,2),S=C[0],D=C[1],k=Object(a.useState)(""),E=Object(u.a)(k,2),T=E[0],N=E[1],A={getHandleChangeText:function(e,t){return function(n){var a=n.target.value;t&&a.length>t||e(a)}}}.getHandleChangeText,U=Object(a.useState)(""),P=Object(u.a)(U,2),M=P[0],I=P[1],F=function(){return I("")},L=Pe((function(e){return e.admin})).admin,H=Me(We),R=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.trackPromise)(h()({method:"POST",url:"".concat(Ze,"/admin/signup"),data:{name:l,location:x,email:S,password:T,currency:"USD",language:0},headers:{Authorization:(null===L||void 0===L?void 0:L.jwt)||""}}).then((function(e){return e.data.data})).catch((function(e){return I(e.response.data.message)})),Ct);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:H({name:l,email:S,id:t}),n();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(jn,{isOpen:t,handleClose:n,children:Object(v.jsx)(bn.a,{className:r.record,children:Object(v.jsxs)(pn.a,{children:[Object(v.jsx)(d.a,{gutterBottom:!0,variant:"h4",component:"h2",children:"New user"}),Object(v.jsx)(d.a,{className:r.textInput,color:"error",variant:"body1",component:"p",children:M}),Object(v.jsx)(j.a,{label:"Name",className:r.textInput,value:l,onChange:A(p,24),onFocus:F}),Object(v.jsx)(j.a,{label:"Email",className:r.textInput,value:S,onChange:A(D,60),onFocus:F}),Object(v.jsx)(j.a,{label:"Location",className:r.textInput,value:x,onChange:A(y,32),onFocus:F}),Object(v.jsx)(j.a,{label:"Password",type:"password",className:r.textInput,value:T,onChange:A(N,32),onFocus:F}),Object(v.jsx)(g,{id:Ct,children:Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:R,className:r.button,children:"Save"})})]})})})},Cn=function(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),i=Object(u.a)(c,2),l=i[0],d=i[1],j=Object(a.useCallback)(Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Qe,"USD_UAH"));case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.next=7,fetch("".concat(Qe,"USD_EUR"));case 7:return e.next=9,e.sent.json();case 9:n=e.sent,r(t.USD_UAH),d(n.USD_EUR);case 12:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){Object(f.trackPromise)(j(),St)}),[j]),[n,l]},Sn=function(e,t,n,a){var r=e;switch(t){case Je.UAH:r/=a[0];break;case Je.EUR:r/=a[1]}switch(n){case Je.UAH:r*=a[0];break;case Je.EUR:r*=a[1]}return r};!function(e){e.ASC="asc",e.DESC="desc"}(xt||(xt={}));var Dn=function(e){var t=e.handleDelete,n=Object(O.i)().id,r=parseInt(n)||1,c=Object(a.useState)(3),i=Object(u.a)(c,2),l=i[0],d=i[1],j=Object(a.useState)(xt.DESC),b=Object(u.a)(j,2),p=b[0],h=b[1],m=new URLSearchParams(Object(O.h)().search),v=Object(O.h)(),g=Object(O.g)(),x=Object(a.useState)(Je.USD),y=Object(u.a)(x,2),w=y[0],C=y[1],S=function(){var e=v.pathname.split("/");return e.slice(0,e.length-1).join("/")},D=Object(a.useState)(!1),k=Object(u.a)(D,2),E=k[0],T=k[1],N=Object(a.useState)(!1),A=Object(u.a)(N,2),U=A[0],P=A[1],M=Object(a.useState)(null),I=Object(u.a)(M,2),F=I[0],L=I[1],H=Object(a.useState)(""),R=Object(u.a)(H,2),B=R[0],z=R[1],V=Pe((function(e){return e.user})).user,G=function(){L(null)},W=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.trackPromise)(mt((null===V||void 0===V?void 0:V.jwt)||"",B),wt);case 2:e.sent||(t(B),Y());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){T(!1)};return{page:r,orderBy:l,order:p,rowsPerPage:parseInt(m.get("rowsPerPage")||"")||10,getHandleHeaderClick:function(e){return function(){if(l===e)return h((function(e){return e===xt.DESC?xt.ASC:xt.DESC}));d(e)}},handleChangeRowsPerPage:function(e){g.replace("".concat(S(),"/1?rowsPerPage=").concat(e.target.value))},handleChangePage:function(e,t){g.push("".concat(S(),"/").concat(t+1,"?rowsPerPage=").concat(m.get("rowsPerPage")||10))},menuAnchorEl:F,getHandleOpenMenu:function(e){return function(t){L(t.currentTarget),z(e)}},handleCloseMenu:G,handleOpenDelete:function(){G(),T(!0)},handleSubmitDelete:W,handleCancelDelete:Y,isDeleteModal:E,handleOpenEdit:function(){G(),P(!0)},handleCloseEdit:function(){P(!1)},isEditModal:U,getActiveRecord:function(e){return e.find((function(e){return e.id===B}))},currency:w,setCurrency:C}},kn=function(e,t,n,a){return function(r,c){switch(t){case 0:return Tn(e,r.title,c.title);case 1:return Tn(e,r.description,c.description);case 2:return En(e,Sn(r.value,r.currency,n,a),Sn(c.value,c.currency,n,a));case 3:return En(e,r.time,c.time);default:return 0}}},En=function(e,t,n){return e===xt.ASC?t-n:n-t},Tn=function(e,t,n){return t<n?e===xt.ASC?-1:1:t>n?e===xt.ASC?1:-1:0},Nn=function(e,t){return function(n,a){switch(t){case 0:return Tn(e,n.email||"",a.email||"");case 1:return Tn(e,n.name||"",a.name||"");default:return 0}}},An=Object(y.a)((function(e){return Object(w.a)({table:{width:"100%"},button:{minWidth:0,margin:e.spacing(1),width:50,height:50,borderRadius:"50%",position:"relative"},buttonContent:{display:"block",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},tableFooter:{paddingLeft:e.spacing(2),display:"flex",justifyContent:"space-between"},currency:{display:"flex",alignItems:"center"},currencySelect:{marginTop:e.spacing(-1),marginLeft:e.spacing(1)},admin:{padding:e.spacing(2)},adminPaper:{marginTop:e.spacing(2)},buttons:{width:400,display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:e.spacing(2)}})})),Un=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(u.a)(c,2),l=i[0],d=i[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),p=b[0],h=b[1],O=Pe((function(e){return e.admin})),m=O.users,v=O.admin,g=An(),x=Object(a.useState)(!1),y=Object(u.a)(x,2),w=y[0],C=y[1],S=Object(a.useState)(!1),D=Object(u.a)(S,2),k=D[0],E=D[1],T=Object(a.useState)(0),N=Object(u.a)(T,2),A=N[0],U=N[1],P=Object(a.useState)(xt.DESC),M=Object(u.a)(P,2),I=M[0],F=M[1];!function(){var e=Pe((function(e){return e.admin})).admin,t=Me(ze),n=Me(Ve),r=Object(a.useCallback)(Object(s.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=12;break}return a.next=3,jt(e.jwt);case 3:if(!a.sent){a.next=11;break}return a.t0=n,a.next=7,bt(e.jwt);case 7:a.t1=a.sent,(0,a.t0)(a.t1),a.next=12;break;case 11:t();case 12:case"end":return a.stop()}}),a)}))),[]);Object(a.useEffect)((function(){Object(f.trackPromise)(r(),Tt)}),[])}();var L=Me(Ge),H=Me(ze),R=function(){r(null)},B=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.trackPromise)(pt((null===v||void 0===v?void 0:v.jwt)||"",p),wt);case 2:e.sent||(L(p),z());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){d(!1)};return{menuAnchorEl:n,isDeleteModal:l,users:m,classes:g,isOpenLogout:w,order:I,orderBy:A,getHandleHeaderClick:function(e){return function(){if(A===e)return F((function(e){return e===xt.DESC?xt.ASC:xt.DESC}));U(e)}},handleLogout:H,handleOpenDelete:function(){R(),d(!0)},handleSubmitDelete:B,handleOpenLogout:function(){C(!0)},handleCancelLogout:function(){C(!1)},getHandleOpenMenu:function(e){return function(t){r(t.currentTarget),h(e)}},handleCloseMenu:R,handleCancelDelete:z,isUser:k,handleCloseUser:function(){return E(!1)},handleOpenUser:function(){return E(!0)}}},Pn=[{id:0,label:"Email",skipPadding:!0,numeric:!1},{id:1,label:"Name",numeric:!1}],Mn=function(){var e=Un(),t=e.menuAnchorEl,n=e.isDeleteModal,a=e.users,r=e.classes,c=e.isOpenLogout,i=e.orderBy,o=e.order,s=e.getHandleHeaderClick,u=e.handleLogout,d=e.handleOpenDelete,j=e.handleSubmitDelete,p=e.handleOpenLogout,h=e.handleCancelLogout,f=e.getHandleOpenMenu,O=e.handleCloseMenu,m=e.handleCancelDelete,g=e.isUser,x=e.handleCloseUser,y=e.handleOpenUser;return Object(v.jsxs)("div",{className:r.admin,children:[Object(v.jsx)(S,{title:"Admin"}),Object(v.jsxs)(l.a,{className:r.adminPaper,children:[Object(v.jsx)($t.a,{children:Object(v.jsxs)(en.a,{className:r.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(tn.a,{children:Object(v.jsxs)(nn.a,{children:[Object(v.jsx)(an.a,{padding:"checkbox"}),Pn.map((function(e){return Object(v.jsx)(an.a,{align:e.numeric?"right":"left",padding:e.skipPadding?"none":"default",onClick:s(e.id),children:Object(v.jsx)(rn.a,{active:i===e.id,direction:o,children:e.label})},e.id)}))]})}),Object(v.jsx)(cn.a,{children:a.sort(Nn(o,i)).map((function(e){return Object(v.jsx)(In,{id:e.id,name:e.name,email:e.email,getHandleOpenMenu:f},e.id)}))})]})}),Object(v.jsx)(on.a,{id:"data-table-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:O,children:Object(v.jsx)(sn.a,{onClick:d,children:"Delete"})}),Object(v.jsx)(yn,{isOpen:n,description:"This action will delete this user",title:"Delete",handleClose:m,handleSubmit:j}),Object(v.jsx)(yn,{isOpen:c,description:"Are you sure you want to log out?",title:"Logout",handleClose:h,handleSubmit:u}),Object(v.jsx)(wn,{isOpen:g,handleClose:x})]}),Object(v.jsxs)("div",{className:r.buttons,children:[Object(v.jsx)(b.a,{variant:"contained",color:"secondary",onClick:p,children:"Logout"}),Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:y,children:"Add"})]})]})},In=function(e){var t=e.getHandleOpenMenu,n=e.id,a=e.email,r=e.name,c=An();return Object(v.jsxs)(nn.a,{hover:!0,tabIndex:-1,role:"checkbox",children:[Object(v.jsx)(an.a,{padding:"checkbox",children:Object(v.jsx)(b.a,{"aria-controls":"data-table-menu","aria-haspopup":"true",className:c.button,onClick:t(n),children:Object(v.jsx)(un.a,{className:c.buttonContent})})}),Object(v.jsx)(an.a,{component:"th",scope:"row",padding:"none",children:a}),Object(v.jsx)(an.a,{align:"left",children:r})]})},Fn=n(105),Ln=n(355),Hn=Object(y.a)((function(e){return Object(w.a)({button:{position:"fixed",right:50,bottom:50,padding:e.spacing(2),borderRadius:"50%"}})})),Rn=function(e){var t=e.onClick,n=Hn();return Object(v.jsx)(b.a,{onClick:t,className:n.button,variant:"contained",color:"primary",children:Object(v.jsx)(Ln.a,{fontSize:"large"})})},Bn=je,zn=be,Vn=function(e){return Ue(Bn,e)},Gn=function(e){return Ue(zn,e)},Wn=["Income","Outcome","Employee"],Yn=["None","Income","Outcome","Employee","Prediction"],Kn=["Week","Month","Year"],Xn=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return{value:e,label:e}}))},_n=Object(y.a)((function(e){return Object(w.a)({paper:{padding:e.spacing(2)},row:{display:"flex",flexDirection:"row",alignItems:"flex-end"},label:{paddingBottom:e.spacing(1.5),width:300},button:{display:"block",margin:"auto",marginTop:e.spacing(2)},card:{display:"flex",width:"500px",height:"300px"},cardContent:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"}})})),qn=function(){var e=_n(),t=function(){var e=Object(a.useState)(Wn[0]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(Yn[0]),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(a.useState)(Kn[0]),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(a.useState)(!1),h=Object(u.a)(p,2),f=h[0],O=h[1],m=Me(Vn),v=function(){O(!1),r(Wn[0]),s(Yn[0]),b(Kn[0])};return{main:n,additional:o,period:j,setMain:r,setAdditional:s,setPeriod:b,isOpenModal:f,handleOpenModal:function(){return O(!0)},handleCloseModal:v,handleCreate:function(){m({id:Nt(),base:n,additional:o,period:j}),v()}}}(),n=t.main,r=t.additional,c=t.period,i=t.setMain,o=t.setAdditional,s=t.setPeriod,j=t.isOpenModal,p=t.handleOpenModal,h=t.handleCloseModal,f=t.handleCreate;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Rn,{onClick:p}),Object(v.jsx)(jn,{isOpen:j,handleClose:h,children:Object(v.jsxs)(l.a,{className:e.paper,children:[Object(v.jsx)(d.a,{gutterBottom:!0,variant:"h4",component:"h2",children:"NEW VIDGET"}),Object(v.jsxs)("div",{className:e.row,children:[Object(v.jsx)(d.a,{className:e.label,variant:"body1",component:"p",children:"Base parameter"}),Object(v.jsx)(vn,{list:Xn(Wn,r),value:n,setValue:i})]}),Object(v.jsxs)("div",{className:e.row,children:[Object(v.jsx)(d.a,{className:e.label,variant:"body1",component:"p",children:"Additional parameter"}),Object(v.jsx)(vn,{list:Xn(Yn,n),value:r,setValue:o})]}),Object(v.jsxs)("div",{className:e.row,children:[Object(v.jsx)(d.a,{className:e.label,variant:"body1",component:"p",children:"Period"}),Object(v.jsx)(vn,{list:Xn(Kn),value:c,setValue:s})]}),Object(v.jsx)(b.a,{className:e.button,variant:"contained",color:"primary",onClick:f,children:"Create"})]})})]})},Jn="#3f51b5",Qn="#FF9800",Zn="#D32F2F",$n="#AFB42B",ea=function(e,t){return"".concat(e).concat(Math.floor(255*t).toString(16))},ta=function(e){switch(e){case Yn[1]:return{pointBorderColor:ea(Qn,.8),borderColor:ea(Qn,.7),backgroundColor:ea(Qn,.2)};case Yn[2]:return{pointBorderColor:ea(Jn,.8),borderColor:ea(Jn,.7),backgroundColor:ea(Jn,.2)};case Yn[3]:return{pointBorderColor:ea($n,.8),borderColor:ea($n,.7),backgroundColor:ea($n,.2)};case Yn[4]:return{pointBorderColor:ea(Zn,.8),borderColor:ea(Zn,.7),backgroundColor:"rgba(0,0,0,0)"}}},na=function(e){return new Array(e).fill(1).map((function(e,t){var n=new Date((new Date).getTime()-864e5*t);return new Date(n.getFullYear(),n.getMonth(),n.getDate())})).reverse()},aa=function(e){return e.map((function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]}))},ra=function(e){return e.map((function(e){return"".concat(ca(e.getDate()),".").concat(ca(e.getMonth()+1))}))},ca=function(e){return e<10?"0".concat(e):e},ia=function(e){var t=oa(new Date),n=[];return new Array(e).fill(1).forEach((function(){var e=oa(new Date(t.getTime()-864e5));n.push(t),t=e})),n.reverse()},oa=function(e){return new Date(e.getFullYear(),e.getMonth())},sa=function(e){return e.map((function(e){return"".concat(ca(e.getMonth()+1),".").concat(ca(e.getFullYear()))}))},ua=function(e,t,n,a){var r=na(7);switch(a){case Kn[1]:r=na(30);break;case Kn[2]:r=ia(12)}if(t===Yn[3])return la(e.setting.settings,r,a);var c=e.income.incomes,i=e.outcome.outcomes;return r.map((function(r){var o,s,u=a===Kn[2]?oa(new Date(r.getTime()+3024e6)).getTime():new Date(r.getTime()+864e5).getTime();switch(t){case Yn[2]:return da(i,r.getTime(),u,n,Pt((null===(o=e.user.user)||void 0===o?void 0:o.currency)||"USD"));default:return da(c,r.getTime(),u,n,Pt((null===(s=e.user.user)||void 0===s?void 0:s.currency)||"USD"))}}))},la=function(e,t,n){return t.map((function(t){var a,r=n===Kn[2]?oa(new Date(t.getTime()+3024e6)).getTime():new Date(t.getTime()+864e5).getTime();return(null===(a=e.filter((function(e){var n=e.timestamp;return t.getTime()<n&&n<r})).sort((function(e,t){return t.timestamp-e.timestamp}))[0])||void 0===a?void 0:a.employee)||0}))},da=function(e,t,n,a,r){return+e.filter((function(e){var a=e.time;return t<a&&a<n})).reduce((function(e,t){return e+Sn(t.value,t.currency,r,a)}),0).toFixed(2)},ja=function(e){switch(e){case Kn[1]:return ra(na(30));case Kn[2]:return sa(ia(12));default:return aa(na(7))}},ba=function(e){switch(e){case Kn[1]:return function(){var e=na(30);return e.push.apply(e,Object(k.a)(new Array(10).fill(1).map((function(e,t){return new Date((new Date).getTime()+864e5*(t+1))})))),ra(e)}();case Kn[2]:return function(){var e=ia(12).reverse(),t=oa(new Date(oa(new Date).getTime()+3024e6));return new Array(3).fill(1).forEach((function(){var n=oa(new Date(t.getTime()+3024e6));e.unshift(t),t=n})),sa(e.reverse())}();default:return function(){var e=na(7);return e.push.apply(e,Object(k.a)(new Array(3).fill(1).map((function(e,t){return new Date((new Date).getTime()+864e5*(t+1))})))),aa(e)}()}},pa=function(e,t){var n=e.length,a=ha(e,1),r=ha(e,2),c=fa(e,0),i=fa(e,1),o=Oa([[n,a],[a,r]],[c,i]),s=o.det,u=o.detX1,l=o.detX2;if(0===s)return[];var d=u/s,j=l/s;switch(t){case Kn[2]:return new Array(52).fill(1).map((function(e,t){return+((t-d)/j).toFixed(2)}));case Kn[1]:return new Array(40).fill(1).map((function(e,t){return+((t-d)/j).toFixed(2)}));default:return new Array(10).fill(1).map((function(e,t){return+((t-d)/j).toFixed(2)}))}},ha=function(e,t){return e.reduce((function(e,n){return e+Math.pow(n,t)}),0)},fa=function(e,t){return e.map((function(e,n){return n*Math.pow(e,t)})).reduce((function(e,t){return e+t}),0)},Oa=function(e,t){var n=e[0][0],a=e[0][1],r=e[1][0],c=e[1][1],i=t[0],o=t[1];return{det:n*c-a*r,detX1:i*c-a*o,detX2:n*o-i*r}},ma=Object(y.a)((function(){return Object(w.a)({card:{display:"flex",width:"1000px",height:"600px"},cardContent:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"}})})),va=[Yn[1],Yn[2],Yn[3]],ga=function(e){var t=e.vidget,n=e.convert,r=ma(),c=Pe((function(e){return e})),i=Me(Gn),o=Object(a.useState)(!1),s=Object(u.a)(o,2),l=s[0],d=s[1],j=function(){return d(!1)},p=function(){var e=[Object(E.a)({label:t.base,data:ua(c,t.base,n,t.period)},ta(t.base))];return va.includes(t.additional)&&e.push(Object(E.a)({label:t.additional,data:ua(c,t.additional,n,t.period)},ta(t.additional))),e};return Object(v.jsxs)(bn.a,{className:r.card,elevation:3,children:[Object(v.jsxs)(pn.a,{className:r.cardContent,children:[Object(v.jsx)(g,{id:St,width:950,height:550,children:t.additional===Yn[4]?Object(v.jsx)(Fn.Line,{data:{labels:ba(t.period),datasets:function(){var e=p();return e.push(Object(E.a)({label:t.additional,data:pa(ua(c,t.base,n,t.period),t.period)},ta(t.additional))),e}()}}):Object(v.jsx)(Fn.Line,{data:{labels:ja(t.period),datasets:p()}})}),Object(v.jsx)("div",{children:Object(v.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){return d(!0)},children:"Delete"})})]}),Object(v.jsx)(yn,{isOpen:l,description:"Are you sure you want to detele this vidget?",title:"Delete vidget",handleClose:j,handleSubmit:function(){i(t.id),j()}})]})},xa=Object(y.a)((function(e){return Object(w.a)({container:{width:"100%",margin:e.spacing(1)}})})),ya=function(){var e=xa(),t=Pe((function(e){return e.vidget})).vidgets,n=Cn();return Object(v.jsxs)(xn.a,{className:e.container,container:!0,justify:"flex-start",spacing:3,children:[t.map((function(e){return Object(v.jsx)(xn.a,{item:!0,children:Object(v.jsx)(ga,{vidget:e,convert:n})},e.id)})),Object(v.jsx)(xn.a,{item:!0,children:Object(v.jsx)(qn,{})})]})},wa=function(){Mt();var e=Object(f.usePromiseTracker)({area:Et}).promiseInProgress;return Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{title:"Dashboard"}),e?Object(v.jsx)(g,{id:Et}):Object(v.jsx)(ya,{})]})},Ca=function(e){var t=function(e,t){var n=Object(a.useState)(!1),r=Object(u.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(a.useState)(""),h=Object(u.a)(p,2),O=h[0],m=h[1],v=Object(a.useState)(""),g=Object(u.a)(v,2),x=g[0],y=g[1],w=Object(a.useState)(Je.USD),C=Object(u.a)(w,2),S=C[0],D=C[1],k=Object(a.useState)(""),E=Object(u.a)(k,2),T=E[0],N=E[1],A=Me(e),U=Object(a.useState)(new Date),P=Object(u.a)(U,2),M=P[0],I=P[1],F=Pe((function(e){return e.user})).user,L=function(){b(""),m(""),y(""),D(Je.USD),i(!1)},H=function(){var e=Object(s.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.trackPromise)(ft((null===F||void 0===F?void 0:F.jwt)||"",{title:j,description:O,value:parseFloat(x),currency:At(S),time:M?M.getTime():(new Date).getTime(),isIncome:t}),yt);case 2:"string"===typeof(n=e.sent)?N(n):(A({id:n.id,time:M?M.getTime():(new Date).getTime(),title:j,description:O,currency:S,value:parseFloat(x)}),L());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isModalOpen:c,title:j,description:O,value:x,setTitle:b,setDescription:m,setValue:y,currency:S,setCurrency:D,date:M,handleDateChange:function(e){I(e)},handleOpenModal:function(){i(!0)},handleCloseModal:L,handleSave:H,error:T,handleFocus:function(){return N("")}}}(e.actionAdd,e.isIncome),n=t.isModalOpen,r=t.title,c=t.description,i=t.value,l=t.setTitle,d=t.setDescription,j=t.setValue,b=t.currency,p=t.setCurrency,h=t.date,O=t.handleDateChange,m=t.handleCloseModal,g=t.handleSave,x=t.handleOpenModal,y=t.error,w=t.handleFocus;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Rn,{onClick:x}),Object(v.jsx)(gn,{isOpen:n,title:r,description:c,value:i,setTitle:l,setDescription:d,setValue:j,handleClose:m,currency:b,setCurrency:p,handleSave:g,date:h,handleDateChange:O,error:y,handleFocus:w})]})},Sa=n(360),Da=[{id:0,label:"Title",skipPadding:!0,numeric:!1},{id:1,label:"Description",numeric:!1},{id:2,label:"Value",numeric:!0},{id:3,label:"Date Added",numeric:!0}],ka=function(e){var t=e.orderBy,n=e.order,a=e.getHandleHeaderClick;return Object(v.jsx)(tn.a,{children:Object(v.jsxs)(nn.a,{children:[Object(v.jsx)(an.a,{padding:"checkbox"}),Da.map((function(e){return Object(v.jsx)(an.a,{align:e.numeric?"right":"left",padding:e.skipPadding?"none":"default",onClick:a(e.id),children:Object(v.jsx)(rn.a,{active:t===e.id,direction:n,children:e.label})},e.id)}))]})})},Ea=function(e){var t=e.record,n=e.handleEdit,r=e.isEditModal,c=e.handleCloseModal,i=e.isIncome,l=Object(a.useState)((null===t||void 0===t?void 0:t.title)||""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(a.useState)((null===t||void 0===t?void 0:t.description)||""),h=Object(u.a)(p,2),O=h[0],m=h[1],g=Object(a.useState)((null===t||void 0===t?void 0:t.value.toString())||""),x=Object(u.a)(g,2),y=x[0],w=x[1],C=Object(a.useState)((null===t||void 0===t?void 0:t.currency)||Je.USD),S=Object(u.a)(C,2),D=S[0],k=S[1],E=Object(a.useState)((null===t||void 0===t?void 0:t.currency)||Je.USD),T=Object(u.a)(E,2),N=T[0],A=T[1],U=Object(a.useState)(""),P=Object(u.a)(U,2),M=P[0],I=P[1],F=Pe((function(e){return e.user})).user;Object(a.useEffect)((function(){b((null===t||void 0===t?void 0:t.title)||""),m((null===t||void 0===t?void 0:t.description)||""),w((null===t||void 0===t?void 0:t.value.toString())||""),k((null===t||void 0===t?void 0:t.currency)||Je.USD),A(new Date((null===t||void 0===t?void 0:t.time)||Date.now()))}),[t]);var L=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.trackPromise)(Ot((null===F||void 0===F?void 0:F.jwt)||"",{title:j,description:O,value:parseFloat(y),currency:At(D),time:N.getTime(),isIncome:i,id:null===t||void 0===t?void 0:t.id}),yt);case 2:n({title:j,description:O,value:parseFloat(y),currency:D,time:N.getTime(),id:(null===t||void 0===t?void 0:t.id)||Nt()}),c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(v.jsx)(gn,{isOpen:r,title:j,description:O,value:y,setTitle:b,setDescription:m,setValue:w,handleClose:c,currency:D,setCurrency:k,handleSave:L,date:N,handleDateChange:function(e){return A(e)},error:M,handleFocus:function(){return I("")}}):null},Ta=function(e){var t=e.id,n=e.title,a=e.description,r=e.value,c=e.currencyBase,i=e.getHandleOpenMenu,o=e.convert,s=e.time,u=e.currency,l=An();return Object(v.jsxs)(nn.a,{hover:!0,tabIndex:-1,role:"checkbox",children:[Object(v.jsx)(an.a,{padding:"checkbox",children:Object(v.jsx)(b.a,{"aria-controls":"data-table-menu","aria-haspopup":"true",className:l.button,onClick:i(t),children:Object(v.jsx)(un.a,{className:l.buttonContent})})}),Object(v.jsx)(an.a,{component:"th",scope:"row",padding:"none",children:n}),Object(v.jsx)(an.a,{align:"left",children:a}),Object(v.jsx)(an.a,{align:"right",children:Object(v.jsxs)(g,{id:St,height:20,justify:"flex-end",children:[Sn(r,u,c,o).toFixed(2)," ",At(c)]})}),Object(v.jsxs)(an.a,{align:"right",children:[new Date(s).toLocaleTimeString("en-US")," -"," ",new Date(s).toLocaleDateString("en-US")]})]})},Na=function(e){var t=e.data,n=e.handleDelete,r=e.handleEdit,c=e.isIncome,i=An(),o=Dn({handleDelete:n}),s=o.page,u=o.orderBy,j=o.order,b=o.rowsPerPage,p=o.getHandleHeaderClick,h=o.handleChangeRowsPerPage,O=o.handleChangePage,m=o.menuAnchorEl,x=o.getHandleOpenMenu,y=o.handleCloseMenu,w=o.handleOpenDelete,C=o.handleSubmitDelete,S=o.handleCancelDelete,D=o.isDeleteModal,k=o.handleOpenEdit,T=o.handleCloseEdit,N=o.isEditModal,A=o.getActiveRecord,U=o.currency,P=o.setCurrency,M=Cn();return Object(f.usePromiseTracker)({area:Et}).promiseInProgress?Object(v.jsx)(g,{id:Et}):Object(v.jsxs)(l.a,{children:[Object(v.jsx)($t.a,{children:Object(v.jsxs)(en.a,{className:i.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(ka,{rowCount:t.length,numSelected:0,orderBy:u,order:j,getHandleHeaderClick:p}),Object(v.jsx)(cn.a,{children:t.sort(kn(j,u,U,M)).slice((s-1)*b,s*b).map((function(e){return Object(a.createElement)(Ta,Object(E.a)(Object(E.a)({},e),{},{currencyBase:U,getHandleOpenMenu:x,key:e.id,convert:M}))}))})]})}),Object(v.jsxs)("div",{className:i.tableFooter,children:[Object(v.jsxs)("div",{className:i.currency,children:[Object(v.jsx)(d.a,{children:"Default Currency"}),Object(v.jsx)("div",{className:i.currencySelect,children:Object(v.jsx)(vn,{list:gt,value:U,setValue:P})})]}),Object(v.jsx)(Sa.a,{rowsPerPageOptions:[5,10,25],count:t.length,rowsPerPage:b,page:s-1,component:"div",onChangePage:O,onChangeRowsPerPage:h})]}),Object(v.jsxs)(on.a,{id:"data-table-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:y,children:[Object(v.jsx)(sn.a,{onClick:k,children:"Edit"}),Object(v.jsx)(sn.a,{onClick:w,children:"Delete"})]}),Object(v.jsx)(yn,{isOpen:D,description:"This action will delete this record",title:"Delete",handleClose:S,handleSubmit:C}),Object(v.jsx)(Ea,{handleCloseModal:T,handleEdit:r,record:A(t),isEditModal:N,isIncome:c})]})},Aa=Object(y.a)((function(e){return Object(w.a)({screen:{paddingRight:e.spacing(1)}})})),Ua=function(){var e=Pe((function(e){return e.income})).incomes,t=Me(rt.delete),n=Me(rt.update),a=Aa();return Object(v.jsxs)("div",{className:a.screen,children:[Object(v.jsx)(S,{title:"Income"}),Object(v.jsx)(Ca,{actionAdd:rt.add,isIncome:!0}),Object(v.jsx)(Na,{data:e,handleDelete:t,handleEdit:n,isIncome:!0})]})},Pa=Object(y.a)((function(e){return Object(w.a)({screen:{paddingRight:e.spacing(1)}})})),Ma=function(){var e=Pe((function(e){return e.outcome})).outcomes,t=Me(ut.delete),n=Me(ut.update),a=Pa();return Object(v.jsxs)("div",{className:a.screen,children:[Object(v.jsx)(S,{title:"Outcome"}),Object(v.jsx)(Ca,{actionAdd:ut.add,isIncome:!1}),Object(v.jsx)(Na,{data:e,handleDelete:t,handleEdit:n,isIncome:!1})]})},Ia=Object(y.a)((function(e){return Object(w.a)({screen:{paddingRight:e.spacing(1)},input:{maxWidth:400,display:"block",marginBottom:e.spacing(1),marginLeft:e.spacing(2)},currency:{width:400,display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:e.spacing(2)},currencySelect:{marginTop:e.spacing(-1),marginLeft:e.spacing(1)},buttons:{width:400,display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:e.spacing(2),marginTop:e.spacing(2)}})})),Fa=function(){var e,t,n,r,c=Ia(),i=Pe((function(e){return e.user})).user,l=Me(_e),p=Me(Xe),h=Object(a.useState)(null!==(e=null===i||void 0===i?void 0:i.name)&&void 0!==e?e:""),O=Object(u.a)(h,2),m=O[0],x=O[1],y=Object(a.useState)(null!==(t=null===i||void 0===i?void 0:i.email)&&void 0!==t?t:""),w=Object(u.a)(y,2),C=w[0],D=w[1],k=Object(a.useState)(null!==(n=null===i||void 0===i?void 0:i.location)&&void 0!==n?n:""),E=Object(u.a)(k,2),T=E[0],N=E[1],A=Object(a.useState)(Pt(null===i||void 0===i?void 0:i.currency)),U=Object(u.a)(A,2),P=U[0],M=U[1],I=Object(a.useState)(""),F=Object(u.a)(I,2),L=F[0],H=F[1],R=function(){return H("")},B=Object(a.useState)(!1),z=Object(u.a)(B,2),V=z[0],G=z[1];Object(a.useEffect)((function(){var e;X((null===i||void 0===i||null===(e=i.employee)||void 0===e?void 0:e.toString())||"")}),[null===i||void 0===i?void 0:i.employee]);var W=Object(a.useState)((null===i||void 0===i||null===(r=i.employee)||void 0===r?void 0:r.toString())||""),Y=Object(u.a)(W,2),K=Y[0],X=Y[1],_=function(e){return function(t){var n=t.target.value;e(n)}},q=function(){var e=Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={jwt:(null===i||void 0===i?void 0:i.jwt)||"",currency:At(P),email:C,name:m,location:T,language:Ut(vt.EN),employee:+K},e.next=3,Object(f.trackPromise)(Lt(t,p),kt);case 3:n=e.sent,H(n),n||t.email===(null===i||void 0===i?void 0:i.email)||(l(),alert("You logged out because you change email"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:c.screen,children:[Object(v.jsx)(S,{title:"Profile"}),Object(v.jsx)(d.a,{className:c.input,color:"error",variant:"body1",component:"p",children:L}),Object(v.jsx)(j.a,{className:c.input,fullWidth:!0,id:"name",label:"Name",value:m,onChange:_(x),onFocus:R}),Object(v.jsx)(j.a,{className:c.input,fullWidth:!0,id:"email",label:"Email",value:C,onChange:_(D),onFocus:R}),Object(v.jsx)(j.a,{className:c.input,fullWidth:!0,id:"location",label:"Location",value:T,onChange:_(N),onFocus:R}),Object(v.jsx)(j.a,{className:c.input,fullWidth:!0,type:"number",label:"Employee",value:K,onChange:function(e){var t=e.target.value;if(""===t)return X(t);var n=parseInt(t);if(n<0)return X("0");X(n.toString(10))},onFocus:R}),Object(v.jsxs)("div",{className:c.currency,children:[Object(v.jsx)(d.a,{children:"Default Currency"}),Object(v.jsx)("div",{className:c.currencySelect,children:Object(v.jsx)(vn,{list:gt,value:P,setValue:M})})]}),Object(v.jsx)(yn,{isOpen:V,description:"Are you sure you want to log out?",title:"Logout",handleClose:function(){G(!1)},handleSubmit:function(){l()}}),Object(v.jsx)(g,{id:kt,width:400,height:36,children:Object(v.jsxs)("div",{className:c.buttons,children:[Object(v.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){G(!0)},children:"Logout"}),Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:q,children:"Save"})]})})]})},La=function(){return Pe((function(e){return e.admin})).admin?Object(v.jsx)(Mn,{}):Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(Zt,{}),Object(v.jsx)("main",{style:{width:"100%"},children:Object(v.jsxs)(O.d,{children:[Object(v.jsx)(O.b,{exact:!0,path:Rt,component:wa}),Object(v.jsx)(O.b,{path:"".concat(Bt,"/:id"),component:Ua}),Object(v.jsx)(O.a,{path:Bt,to:"".concat(Bt,"/1")}),Object(v.jsx)(O.b,{path:"".concat(zt,"/:id"),component:Ma}),Object(v.jsx)(O.a,{path:zt,to:"".concat(zt,"/1")}),Object(v.jsx)(O.b,{path:Vt,exact:!0,component:Fa})]})})]})},Ha=n(148),Ra=n(24),Ba=n(147),za=Object(y.a)((function(e){return Object(w.a)({root:{"& > .fa":{margin:e.spacing(2)}}})})),Va=function(e){var t=e.children,n=za();return Object(a.useEffect)((function(){var e=Object(Ba.loadCSS)("https://use.fontawesome.com/releases/v5.12.0/css/all.css",document.querySelector("#font-awesome-css"));return function(){e.parentNode.removeChild(e)}}),[]),Mt(),Object(v.jsx)(Jt.a,{children:Object(v.jsx)(Ra.a,{utils:Ha.a,children:Object(v.jsx)("div",{className:n.root,children:t})})})},Ga=function(){return Object(v.jsx)(Ae,{children:Object(v.jsx)(Va,{children:Object(v.jsx)(Yt,{children:Object(v.jsx)(La,{})})})})};c.a.render(Object(v.jsx)(Ga,{}),document.getElementById("root"))}},[[299,1,2]]]);
//# sourceMappingURL=main.f65d9fab.chunk.js.map